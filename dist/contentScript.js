/*! For license information please see contentScript.js.LICENSE.txt */
(()=>{"use strict";var t={WITH_CHATGPT:"withChatGPT",WITHOUT_CHATGPT:"withoutChatGPT",OPEN_PROFILE:"openProfile",SCRAPE_DETAILS:"scrapeDetails",GET_FROM_LS:"getFromLS",SCRAPE_SKILLS:"scrapeSkills",SCRAPE_POST:"scrapePost",CSV_NOT_CONTAIN_FIELD:"Csv not contain ProfileUrls field.",MESSAGE:"Message",NO_DATA_SELECTED:"No data selected",OUTPUT_FILE_NAME:"linkedUserData.csv",TEXT_CSV:"text/csv",TAB_DETAILS:"tabDetails",LINKEDIN_URL:"linkedin.com",OK:"OK",PROFILE_DETAILS:"profileDetails",MY_CONNECTION:"My Connection",MY_MESSEGING:"My Messaging",CURRENTPAGEMAPPING:"currentPageMapping",FETCHALLLIST:"fetchAllList",MSG_SCRAPE_DETAILS:"msgScrapeDetails",MAPDATA:"mapData",NAVIGATE:"navigate",EXTRACTFROMUSERPAGE:"extractFromUserPage",SCROLL:"scroll",EXTRACTPAGENUMBER:"extractPageNumber",SCROLLMSGCONNECTION:"scrollMsgConnection",LOADMOREMSGCONNECTION:"loadMoreMsgConnection",EXTRACTMSGCONNECTION:"extractMsgConnection"},e=["You:","Thank you","Ok","ok","Okay","Happy Birthday!","Happy Birthday","You sent a post","You sent an attachment","Thanks","No problem","Any time","No worries","form","You're welcome","Sponsored","Thanks for letting me know","Fine","Happy Anniversary","Happy Marriage Anniversary"];function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(){n=function(){return e};var t,e={},a=Object.prototype,o=a.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var a=e&&e.prototype instanceof b?e:b,o=Object.create(a.prototype),c=new I(n||[]);return i(o,"_invoke",{value:T(t,r,c)}),o}function m(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var d="suspendedStart",h="suspendedYield",y="executing",g="completed",v={};function b(){}function x(){}function S(){}var E={};f(E,u,(function(){return this}));var w=Object.getPrototypeOf,N=w&&w(w(D([])));N&&N!==a&&o.call(N,u)&&(E=N);var A=S.prototype=b.prototype=Object.create(E);function C(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(a,i,c,u){var s=m(t[a],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,a){n(t,r,e,a)}))}return a=a?a.then(o,o):o()}})}function T(e,r,n){var a=d;return function(o,i){if(a===y)throw new Error("Generator is already running");if(a===g){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var u=L(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var s=m(e,r,n);if("normal"===s.type){if(a=n.done?g:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=g,n.method="throw",n.arg=s.arg)}}}function L(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=m(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function r(){for(;++a<e.length;)if(o.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return x.prototype=S,i(A,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:x,configurable:!0}),x.displayName=f(S,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,f(t,l,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},C(O.prototype),f(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new O(p(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},C(A),f(A,l,"Generator"),f(A,u,(function(){return this})),f(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,a){return c.type="throw",c.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=o.call(i,"catchLoc"),s=o.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function a(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=o(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,i=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw i}}}}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e,r,n,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,a)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){c(o,n,a,i,u,"next",t)}function u(t){c(o,n,a,i,u,"throw",t)}i(void 0)}))}}var s,l={};document.addEventListener("DOMContentLoaded",(function(){s=document.body.scrollHeight}));var f=function(){var t=u(n().mark((function t(){var e,r,c,u,s,l,f,p,m,d,h,y,g,v,b,x;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.scrollTo({top:document.body.scrollHeight,left:0,behavior:"smooth"}),e=document.querySelectorAll(".display-flex.flex-column.full-width.align-self-center"),r=[],u=a(e);try{for(u.s();!(s=u.n()).done;)l=s.value,f=l.querySelector(".display-flex.align-items-center.mr1.hoverable-link-text.t-bold"),p=f.querySelector("span.visually-hidden").textContent.trim(),m=0,(d=l.querySelector(".hoverable-link-text.display-flex.align-items-center.t-14.t-normal.t-black"))&&(h=d.textContent.trim(),(y=h.match(/\d+/))&&(g=y[0],m=g)),v={skillName:p,numOfEndorsement:m},r.push(v)}catch(t){u.e(t)}finally{u.f()}return r.sort((function(t,e){return e.numOfEndorsement-t.numOfEndorsement})),b=r.map((function(t){return t.skillName})),n=new Set(b),b=function(t){if(Array.isArray(t))return i(t)}(n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||o(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),x=b.slice(0,5),c=x.join(" | "),t.abrupt("return",c);case 12:case"end":return t.stop()}var n}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=u(n().mark((function t(){var e,r,o,i,c,u,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.scrollTo({top:document.body.scrollHeight,left:0,behavior:"smooth"}),e=[],r=document.querySelector(".artdeco-card.ember-view.pb3"),o=r.querySelectorAll(".profile-creator-shared-feed-update__container"),i=a(o),t.prev=5,u=n().mark((function t(){var r,o,i,u,s,l,f,p;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.value,!(o=r.querySelector(".update-components-header__text-wrapper"))){t.next=7;break}if(i=o.querySelector(".update-components-text-view.white-space-pre-wrap.break-words"),!(u=i.querySelector(".update-components-text-view__mention").nextSibling.textContent.trim())||!u.includes("reposted")){t.next=7;break}return t.abrupt("return",1);case 7:r.querySelector(".feed-shared-inline-show-more-text__see-more-less-toggle.see-more.t-14.t-black--light.t-normal.hoverable-link-text")&&(s=r.querySelector(".feed-shared-update-v2__commentary"))&&(l=function(t){if(t.nodeType===Node.TEXT_NODE)f.push(t.textContent.trim());else if(t.nodeType===Node.ELEMENT_NODE){var e,r=a(t.childNodes);try{for(r.s();!(e=r.n()).done;){var n=e.value;l(n)}}catch(t){r.e(t)}finally{r.f()}}},f=[],l(s),p=f.join(" "),e.push(p));case 10:case"end":return t.stop()}}),t)})),i.s();case 8:if((c=i.n()).done){t.next=14;break}return t.delegateYield(u(),"t0",10);case 10:if(!t.t0){t.next=12;break}return t.abrupt("break",14);case 12:t.next=8;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(5),i.e(t.t1);case 19:return t.prev=19,i.f(),t.finish(19);case 22:return s=e.join(" | "),t.abrupt("return",s);case 24:case"end":return t.stop()}}),t,null,[[5,16,19,22]])})));return function(){return t.apply(this,arguments)}}(),m=function(){document.querySelectorAll("*").forEach((function(t,e){if("UL"===(n=t).tagName||"OL"===n.tagName||"MENU"===n.tagName||"DL"===n.tagName||("DIV"===n.tagName||"ARTICLE"===n.tagName||"SECTION"===n.tagName)&&function(t){var e,r=["list","list-type","data-list","data-list-type"],n=a(t.attributes);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(r.includes(o.name)||o.value.includes("list"))return!0}}catch(t){n.e(t)}finally{n.f()}return!1}(n)){var r=document.createElement("button");r.name="list",r.setAttribute("list-selected",!1),r.style.border="1px solid #000",r.style.display="block",r.style.padding="0px",r.style.width="0px",r.style.height="0px",r.style.width="20px",r.style.height="20px",r.style.borderRadius="20px",r.style.zIndex="999",r.style.background="transparent",t.style.background="#F2EE9D",r.style.position="absolute",t.prepend(r),r.onclick=function(e){e.target.style.backgroundColor="#7895CB",localStorage.setItem("selectedList",JSON.stringify({classList:Array.from(t.classList),attributes:t.attributes}))},t.setAttribute("list-id",e)}var n}))},d=function(){var t=u(n().mark((function t(e,r){var a,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=document.querySelectorAll("div.msg-conversation-card__row.align-items-center.display-flex"),o={},a.forEach((function(t,e){var r=document.querySelectorAll("time.msg-overlay-list-bubble-item__time-stamp")[e].textContent.trim();isNaN(Date.parse(r))&&(r=new Date),/\d{4}/.test(r)||(r=r+" "+(new Date).getFullYear()),o[e]={name:document.querySelectorAll("h3.msg-conversation-listitem__participant-names.msg-conversation-card__participant-names")[e].textContent.trim(),time:r,img:document.querySelectorAll("div.msg-selectable-entity.msg-selectable-entity--3 img")[e].src,profile_index:e}})),localStorage.setItem("msgConnections",JSON.stringify({msgConnections:o})),t.abrupt("return",h(r));case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),h=function(){var t=u(n().mark((function t(e){var r,a,o,i,c,u,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.parse(localStorage.getItem("msgConnections")).msgConnections,r=Object.values(r),a=new Date,(o=new Date(a)).setDate(a.getDate()-30),i=r.filter((function(t){return new Date(t.time)<o})),c=i.filter((function(t){return e.some((function(e){return t.name===e.name}))})),u=i.slice(0,15),c.length>0&&(c.length<15&&(c.concat(i),s=c.concat(i.filter((function(t){return!c.includes(t)}))),u=s.slice(0,15)),c.length>=15&&(u=c.slice(0,15))),localStorage.setItem("TotalfilterConnection",JSON.stringify({totalFilteredArray:i})),localStorage.setItem("matchConnection",JSON.stringify({matchConnection:c})),localStorage.setItem("filterConnection",JSON.stringify({filteredArray:u})),t.abrupt("return",u);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function y(t){return new Promise((function(e){setTimeout(e,t)}))}var g=function t(e,r){var o,i=a(e);try{var c=function(){var e=o.value;if(e.nodeType!==Node.TEXT_NODE&&e.children.length>0){if("A"===e.tagName){e.style.textDecoration="underline",e.style.textDecorationStyle="double";var a=document.createElement("button"),i=document.createTextNode("i");a.appendChild(i),a.style.padding="10px",a.style.color="blue",a.style.height="20px",a.style.width="20px",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.style.border="1px solid #000",a.style.borderRadius="20px",a.style.margin="1px",a.className="info-url",a.setAttribute("data-url",e.href),e.prepend(a)}else"P"===e.tagName?e.style.border="1px solid red":"DIV"===e.tagName&&e.textContent?e.style.textDecoration="underline":"IMG"===e.tagName&&(e.style.border="1px solid #444");Array.from(e.children).forEach((function(t,r){var n="".concat(e.getAttribute("data-point"),",").concat(r);t.setAttribute("data-point",n)})),t(e.children,r)}else""!==e.textContent.trim()&&"BUTTON"!==e.parentElement.tagName&&"BUTTON"!==e.tagName&&(e.style.background="yellow",e.style.color="red");e.onclick=function(){var t=u(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),e.stopPropagation(),e.target.style.color="black",l={dataPoint:e.target.getAttribute("data-point"),content:e.target.textContent.trim()},chrome.runtime.sendMessage({message:"mapped",mapContent:l}),t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};for(i.s();!(o=i.n()).done;)c()}catch(t){i.e(t)}finally{i.f()}},v=function(){var t=document.querySelector(".".concat(JSON.parse(localStorage.getItem("selectedList")).classList.join(".")));Array.from(t.children).forEach((function(t,e){t.setAttribute("data-point",e)}));var e=S(t.children);g(e||t.children,Number(t.getAttribute("list-id"))),function(){for(var t=document.querySelectorAll("*"),e=[],r=[],n=0;n<t.length;n++){var a=t[n];b(a)?e.push(a):x(a)&&r.push(a)}var o=[];e.forEach((function(t){t.style.textDecoration="underline",t.style.textDecorationStyle="double",t.style.backgroundColor="#F2EE9D";for(var e={},r=0;r<t.attributes.length;r++){var n=t.attributes[r],a=n.name,i=n.value;e[a]=i}o.push({parentElement:t.parentElement.className,textContent:t.textContent,tagName:t.tagName,attributes:e})})),localStorage.setItem("pageBtnDetails",JSON.stringify(o))}()};function b(t){var e;return!(("A"!==t.tagName&&"BUTTON"!==t.tagName&&"INPUT"!==t.tagName||!("next"===t.getAttribute("rel")||"prev"===t.getAttribute("rel")||t.getAttribute("data-page")||null!==(e=t.getAttribute("href"))&&void 0!==e&&e.includes("page=")||t.getAttribute("data-page-number")||t.textContent.toLowerCase().includes("next")||t.textContent.toLowerCase().includes("prev")))&&!/^\d+$/.test(t.textContent.trim()))}function x(t){return!("UL"!==t.tagName&&"OL"!==t.tagName&&"DIV"!==t.tagName&&"NAV"!==t.tagName||!(t.classList.contains("pagination")||t.classList.contains("pager")||t.classList.contains("pages")||t.getAttribute("data-pagination")||t.getAttribute("data-pager")))}var S=function(t){var e=Array.from(t,(function(t){return t.tagName})),r=e.reduce((function(t,e){return t[e]=(t[e]||0)+1,t}),{}),n=null,o=0;for(var i in r)r[i]>o&&(n=i,o=r[i]);var c,u=[],s=a(t);try{for(s.s();!(c=s.n()).done;){var l=c.value;l.tagName===n&&u.push(l)}}catch(t){s.e(t)}finally{s.f()}return u},E=function(){var t=u(n().mark((function t(){var e,r,o,i,c,u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(1e3);case 2:e=document.querySelectorAll(".entity-result__title-text a > span"),r=[],o=a(e);try{for(o.s();!(i=o.n()).done;)c=i.value,u=c.querySelector("span").textContent.trim(),r.push(u)}catch(t){o.e(t)}finally{o.f()}return localStorage.setItem("extractedData",JSON.stringify(r)),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=u(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:JSON.parse(localStorage.getItem("pageBtnDetails")).forEach((function(t){var r=t.textContent,n=t.parentElement;r.trim()==e.pageNumber&&N(n,e.pageNumber)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(t,e){Array.from(document.getElementsByClassName(t)).forEach((function(t){var r,n=a(t.children);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.textContent.trim()==e&&o.click()}}catch(t){n.e(t)}finally{n.f()}}))},A=function(){var t=u(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.scrollTo({top:s,left:0,behavior:"smooth"});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=u(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=document.querySelectorAll(".artdeco-pagination__indicator").length,t.abrupt("return",[1,e]);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=document.getElementsByClassName("block mlA mrA artdeco-button artdeco-button--muted artdeco-button--1 artdeco-button--tertiary ember-view");if(t.length>0){var e=t[0].getBoundingClientRect();if(e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth))return!0}return!1},T=function(){var t=u(n().mark((function t(){var e,r,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=document.getElementsByClassName("msg-conversations-container__conversations-list")[0])){t.next=22;break}case 2:if(r=O(),a=e.scrollTop>=e.scrollHeight-e.clientHeight,r||a){t.next=9;break}e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),t.next=16;break;case 9:if(!(r&&a||r&&!a)){t.next=14;break}document.getElementsByClassName("block mlA mrA artdeco-button artdeco-button--muted artdeco-button--1 artdeco-button--tertiary ember-view")[0].click(),t.next=16;break;case 14:return _(),t.abrupt("return",!0);case 16:return t.next=18,y(500);case 18:t.next=2;break;case 20:t.next=23;break;case 22:console.error("Element is not loaded successfully!");case 23:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(){var t=u(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.getElementsByClassName("block mlA mrA artdeco-button artdeco-button--muted artdeco-button--1 artdeco-button--tertiary ember-view")[0].click(),t.next=4,y(1e3);case 4:return t.abrupt("return",T());case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=u(n().mark((function t(){var r,a,o,i,c,u,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=document.querySelectorAll("div.msg-conversation-card__row.msg-conversation-card__title-row"),a={},r.forEach((function(t,e){var r=t.querySelector("time.msg-conversation-listitem__time-stamp").textContent.trim(),n=t.querySelector("h3.msg-conversation-listitem__participant-names.msg-conversation-card__participant-names").textContent.trim(),o=t.nextElementSibling.innerText,i=document.querySelectorAll(".msg-conversation-card > a")[e].href,c=document.querySelectorAll("div.msg-selectable-entity--4")[e].querySelector("div > img")?document.querySelectorAll("div.msg-selectable-entity--4")[e].querySelector("div > img").currentSrc:"";isNaN(Date.parse(r))&&(r=new Date),/\d{4}/.test(r)||(r=r+" "+(new Date).getFullYear());var u=!t.nextElementSibling.innerText.includes("new notification");a[e]={name:n,time:r,img:c,profile_index:e,msg:o,isRead:u,msgLink:i}})),o=Object.entries(a).length,console.log("total Msg count",o),n=a,i=Object.values(n).filter((function(t){var r=t.msg.toLowerCase();return!e.some((function(t){return r.includes(t.toLowerCase())}))})),c=Object.entries(i).length,console.log("final Msg count",c),u=0,s=0,i.forEach((function(t){t.isRead?u++:s++})),console.log("true count",u),console.log("false count",s),localStorage.setItem("msgConnections",JSON.stringify({finalMsgConnections:i})),localStorage.setItem("counts",JSON.stringify({totalMsgCount:o,finalMsgCount:c,trueCount:u,falseCount:s}));case 15:case"end":return t.stop()}var n}),t)})));return function(){return t.apply(this,arguments)}}();chrome.runtime.onMessage.addListener(function(){var e=u(n().mark((function e(r,a,o){var i,c,u,s,l,h,g,b;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r.message,e.next=e.t0===t.OPEN_PROFILE?3:e.t0===t.SCRAPE_DETAILS?6:e.t0===t.GET_FROM_LS?11:e.t0===t.SCRAPE_SKILLS?14:e.t0===t.SCRAPE_POST?19:e.t0===t.CURRENTPAGEMAPPING?24:e.t0===t.FETCHALLLIST?27:e.t0===t.NAVIGATE?29:e.t0===t.SCROLL?33:e.t0===t.MAPDATA?36:e.t0===t.EXTRACTFROMUSERPAGE?40:e.t0===t.FETCHFROMLS?43:e.t0===t.EXTRACTPAGENUMBER?46:e.t0===t.SCROLLMSGCONNECTION?51:e.t0===t.EXTRACTMSGCONNECTION?54:e.t0===t.LOADMOREMSGCONNECTION?58:61;break;case 3:return n=r.url,window.location=n,o({status:t.OK}),e.abrupt("return",!0);case 6:return e.next=8,d(r.url,r.csvData);case 8:return i=e.sent,o(i),e.abrupt("break",62);case 11:return c=JSON.parse(localStorage.getItem(t.PROFILE_DETAILS)),o(c),e.abrupt("break",62);case 14:return e.next=16,f();case 16:return u=e.sent,o(u),e.abrupt("break",62);case 19:return e.next=21,p();case 21:return s=e.sent,o(s),e.abrupt("break",62);case 24:return e.next=26,E(r);case 26:case 42:case 53:case 61:return e.abrupt("break",62);case 27:return m(),e.abrupt("break",62);case 29:return e.next=31,y(1e3);case 31:return w(r),e.abrupt("break",62);case 33:return A(),o({status:"OK"}),e.abrupt("return",!0);case 36:return e.next=38,y(1e3);case 38:return v(),e.abrupt("break",62);case 40:return e.next=42,E(r);case 43:return l=JSON.parse(localStorage.getItem("extractedData")),o({pageNumber:r.pageNumber,data:l}),e.abrupt("break",62);case 46:return e.next=48,C(r);case 48:return h=e.sent,o({pageData:h}),e.abrupt("break",62);case 51:return e.next=53,T();case 54:return g=JSON.parse(localStorage.getItem("msgConnections")),b=JSON.parse(localStorage.getItem("counts")),o({data:g,countData:b}),e.abrupt("break",62);case 58:return L(r),o({status:"OK"}),e.abrupt("return",!0);case 62:return e.abrupt("return",!0);case 63:case"end":return e.stop()}var n}),e)})));return function(t,r,n){return e.apply(this,arguments)}}())})();